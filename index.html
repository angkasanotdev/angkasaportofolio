<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Portofolio Angkasa</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="logo.png" />
  <script defer src="script.js"></script>
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js"></script>

  <script>
  // Tunggu DOM siap
  document.addEventListener("DOMContentLoaded", () => {
    const loading = document.getElementById("loading-screen");
    const mainContent = document.querySelector(".main-content");
    const loadingText = document.getElementById("loading-text");

    let dots = 0;
    const dotInterval = setInterval(() => {
      dots = (dots + 1) % 4;
      loadingText.textContent = "Loading" + ".".repeat(dots);
    }, 500);

    setTimeout(() => {
      clearInterval(dotInterval);
      loading.style.display = "none";
      mainContent.style.display = "block";
      startTyping();
      hitungPengunjung();
    }, 3000);

    const roles = [
      "Welcome Sobat Coding",
      "Di Website",
      "Angkasa Portofolio",
      "Ini Dia Portofolio",
      "Dengan Tentang",
      "Codingan Bot",
      "Website",
      "Dan Banyak Lagi"
    ];
    const nameElement = document.getElementById("dynamic-name");
    let roleIndex = 0, charIndex = 0, typingForward = true;

    function startTyping() {
      setInterval(() => {
        const currentText = roles[roleIndex];
        if (typingForward) {
          charIndex++;
          if (charIndex > currentText.length) typingForward = false;
        } else {
          charIndex--;
          if (charIndex === 0) {
            typingForward = true;
            roleIndex = (roleIndex + 1) % roles.length;
          }
        }
        nameElement.textContent = currentText.substring(0, charIndex) + "|";
      }, 100);
    }

    async function hitungPengunjung() {
      try {
        const pengunjungRef = db.collection("pengunjung").doc("total");
        const doc = await pengunjungRef.get();
        let count = doc.exists ? doc.data().count || 0 : 0;
        count++;
        await pengunjungRef.set({ count });
        document.getElementById("visitor-count").textContent = `👀 Total Pengunjung: ${count}`;
      } catch (e) {
        document.getElementById("visitor-count").textContent = `👀 Total Pengunjung: Gagal`;
        console.error("Error:", e);
      }
    }
  });
</script>
  </head>
<body>
  <!-- Loading Screen -->
  <div id="loading-screen">
    <div class="logo-container">
      <img src="https://play-lh.googleusercontent.com/Xn_nzgSnE5xBI0q72OiHHdY5PM7ti2i37B2Z-PgH9W7yGOKzKd2T_zFlHwV1CrxG9RYP=w240-h480-rw" alt="Termux" />
      <img src="https://acode.foxdebug.com/images/logo.png" alt="Acode" />
    </div>
    <p id="loading-text">Loading</p>
    <div class="progress-bar">
      <div class="progress-fill"></div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="main-content" style="display: none;">
    <header>
      <h1 id="dynamic-name">Welcome Sobat Coding|</h1>
      <div class="icons">
        <a href="https://github.com/yourusername" target="_blank"><i class="fab fa-github"></i></a>
      </div>
    </header>

    <section class="about">
      <h2>👋 Tentang Saya</h2>
      <p>Saya developer yang suka ngoding di HP menggunakan Acode, Mt Manager & Termux. Selamat datang di portofolio saya!</p>
    </section>

    <section class="skills">
      <h2>🧠 Keahlian</h2>
      <div class="skill">
        <p>HTML</p>
        <div class="bar"><div style="width: 70%"></div></div>
      </div>
      <div class="skill">
        <p>JavaScript</p>
        <div class="bar"><div style="width: 92%"></div></div>
      </div>
      <div class="skill">
        <p>Firebase</p>
        <div class="bar"><div style="width: 97%"></div></div>
      </div>
    </section>

    <section class="projects">
      <h2>🚀 Proyek Saya</h2>
      <ul>
        <li>⚙️ Bot WhatsApp Custom</li>
        <li>🌐 Website Game Neon Style</li>
        <li>🔐 Sistem Autentikasi Firebase</li>
      </ul>
    </section>

    <section class="contact">
      <h2>📞 Kontak</h2>
      <a href="https://wa.me/6281234567890" class="btn-wa" target="_blank">Chat via WhatsApp</a>
    </section>

    <footer>
      <p id="visitor-count">👀 Total Pengunjung: ...</p>
      <p>© 2025 AngkasaNyaBobo | Dibuat dengan Tekun Dan Percaya Diri</p>
    </footer>
  </div>
</body>
</html>
